<!Doctype>
<html lang="en">
<head>
<meta charset='utf-8'>
<title>AJAX EXAMPLES</title>
<script>
var panels=[];
var expandedIndex=-1;
function accordianHeadingClicked(i)
{
//alert("accordian function clicked "+i);
if(expandedIndex!=-1)
{
panels[expandedIndex+1].style.display='none';
}
panels[i+1].style.display = panels[i+1].oldDisplay;
expandedIndex=i;
}

function doIt()
{
let accord = document.getElementById("mymy");
let children = accord.childNodes;
let x=0;
for(x=0;x<children.length;x++)
{
if(children[x].nodeName=="H3")
{
panels[panels.length]=children[x];
}
if(children[x].nodeName=="DIV")
{
panels[panels.length]=children[x];
}
}//1st for loop ends

if(panels.length%2!=0) throw "heading and division malformed to create accordian";
for(x=0;x<panels.length;x+=2)
{
if(panels[x].nodeName!="H3") throw "heading and division malformed to create accordian";
if(panels[x+1].nodeName!="DIV") throw "heading and division malformed to create accordian";
}
function createClickHandler(i)
{
return function(){
accordianHeadingClicked(i);
};
}
for(x=0;x<panels.length;x+=2)
{
panels[x].onclick= createClickHandler(x);
panels[x+1].oldDisplay = panels[x+1].style.display;
panels[x+1].style.display = "none";
}
}//do it function ends

window.addEventListener("load",doIt);
</script>
</head>
<body>
<div id='mymy'>
<h3>Heading 1 red color</h3>
<div style='color:red'>
1 whatever however nothing 
2 whatever however nothing
3 whatever however nothing
4 whatever however nothing
5 whatever however nothing
6 whatever however nothing
7 whatever however nothing
</div>
<h3>Heading 2 green color</h3>
<div style='color:green'>
12 whatever however nothing 
22 whatever however nothing
32 whatever however nothing
42 whatever however nothing
52 whatever however nothing
62 whatever however nothing
72 whatever however nothing
</div>
<h3>Heading 3 blue color</h3>
<div style='color:blue'>
13 whatever however nothing 
23 whatever however nothing
33 whatever however nothing
43 whatever however nothing
53 whatever however nothing
63 whatever however nothing
73 whatever however nothing
</div>
<h3>Heading 4 orange color</h3>
<div style='color:orange'>
14 whatever however nothing 
24 whatever however nothing
34 whatever however nothing
44 whatever however nothing
54 whatever however nothing
64 whatever however nothing
74 whatever however nothing
</div>
</div>
</body>
</html>